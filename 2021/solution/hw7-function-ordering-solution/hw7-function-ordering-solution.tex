% hw7-function-ordering-solution.tex

% !TEX program = xelatex
%%%%%%%%%%%%%%%%%%%%
% see http://mirrors.concertpass.com/tex-archive/macros/latex/contrib/tufte-latex/sample-handout.pdf
% for how to use tufte-handout
\documentclass[a4paper, justified]{tufte-handout}

\input{hw-preamble} % feel free to modify this file if you understand LaTeX well
%%%%%%%%%%%%%%%%%%%%
\title{7. 集合: 函数与序关系 (7-function-ordering)}
\me{魏恒峰}{hfwei@nju.edu.cn}{}{}
\date{2021年04月22日 发布作业 \\ 2021年06月05日 发布答案}
%%%%%%%%%%%%%%%%%%%%
\begin{document}
\maketitle
%%%%%%%%%%%%%%%%%%%%
\noplagiarism % PLEASE DON'T DELETE THIS LINE!
%%%%%%%%%%%%%%%%%%%%
\begin{abstract}
  % \mfigcap{width = 0.85\textwidth}{figs/George-Boole}{George Boole}
  % \begin{center}{\fcolorbox{blue}{yellow!60}{\parbox{0.65\textwidth}{\large
  %   \begin{itemize}
  %     \item
  %   \end{itemize}}}}
  % \end{center}
\end{abstract}
%%%%%%%%%%%%%%%%%%%%
\beginrequired
%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%
\begin{problem}[\score{7 = 2 + 2 + 3} $\star\star$]
  设　$f: A \to B$ 是函数。请证明:
  \begin{enumerate}[(1)]
    \item $f(A_1 \cup A_2) = f(A_1) \cup f(A_2)$
    \item $f^{-1}(B_1 \setminus B_2) = f^{-1}(B_1) \setminus f^{-1}(B_2)$
    \item $B_0 \supseteq f(f^{-1}(B_0))$
  \end{enumerate}
\end{problem}

\begin{proof}
  \begin{enumerate}[(1)]
    \item 对于任意 $b \in B$,
      \begin{align}
        &b \in f(A_{1} \cup A_{2}) \\
        \iff & \exists a \in A_{1} \cup A_{2}.\; f(a) = b \\
        \iff & (\exists a \in A_{1}.\; f(a) = b) \lor (\exists a \in A_{2}.\; f(a) = b) \\
        \iff & b \in f(A_{1}) \lor b \in f(A_{2}) \\
        \iff & b \in f(A_{1}) \cup f({A_{2}})
      \end{align}
    \item 对于任意 $a \in A$,
      \setcounter{equation}{0}
      \begin{align}
        &a \in f^{-1}(B_{1} \setminus B_{2}) \\
        \iff & f(a) \in B_{1} \setminus B_{2} \\
        \iff & f(a) \in B_{1} \land f(a) \notin B_{2} \\
        \iff & a \in f^{-1}(B_{1}) \land \lnot(a \in f^{-1}(B_{2})) \\
        \iff & a \in f^{-1}(B_{1}) \land a \notin f^{-1}(B_{2}) \\
        \iff & a \in f^{-1}(B_{1}) \setminus f^{-1}(B_{2})
      \end{align}
    \item 对于任意 $b \in B$,
      \setcounter{equation}{0}
      \begin{align}
        &b \in f(f^{-1}(B_{0})) \\
        \iff & \exists a \in f^{-1}(B_{0}).\; b = f(a) \\
        \iff & \exists a \in A.\; f(a) \in B_{0} \land b = f(a) \\
        \implies & b \in B_{0}
      \end{align}
  \end{enumerate}
\end{proof}
%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%
\begin{problem}[\score{4 = 2 + 2} $\star\star$]
  设 $f: A \to B$ 与 $g: B \to C$ 是函数。
  请证明,
  \begin{enumerate}[(1)]
    \item 如果 $f$ 与 $g$ 是满射, 则 $g \circ f$ 是满射。
    \item 如果 $g \circ f$ 是单射, 则 $f$ 是单射。
  \end{enumerate}
\end{problem}

\begin{proof}
  \begin{enumerate}[(1)]
    \item 任取 $c \in C$。
      由于 $g$ 是满射,
      \[
        \exists b \in B.\; g(b) = c.
      \]
      任取 $b_{0}$ 满足 $g(b_{0}) = c$。
      由于 $f$ 是满射,
      \[
        \exists a \in A.\; f(a) = b_{0}.
      \]
      任取 $a_{0}$ 满足 $f(a_{0}) = b_{0}$。
      则有
      \[
        (g \circ f)(a_{0}) = c.
      \]
    \item 任取 $a_{1}, a_{2} \in A$。
      假设 $f(a_{1}) = f(a_{2})$, 则
      \[
        g(f(a_{1})) = g(f(a_{2})),
      \]
      即
      \[
        (g \circ f)(a_{1}) = (g \circ f)(a_{2}).
      \]
      由于 $g \circ f$ 是单射,
      \[
        a_{1} = a_{2}.
      \]
  \end{enumerate}
\end{proof}
%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%
\begin{problem}[\score{5} $\star\star\star$]
  设 $f: A \to B$ 与 $g: B \to A$ 是函数。
  请证明,
  \[
    (f \circ g = I_B \land g \circ f = I_A) \to g = f^{-1}.
  \]
\end{problem}

\begin{proof}
  首先, $f \circ g = I_{B}$ 是满射, 因此 $f$ 是满射。\\
  其次, $g \circ f = I_{A}$ 是单射, 因此 $f$ 是单射。\\
  所以, $f$ 是双射。\\
  又由于 $f \circ g = I_{B}$, 因此 $g = f^{-1}$。
  \marginnote{该证明用到了课件中的两个定理, 请自行找出来。}
\end{proof}
%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%
\begin{problem}[\score{4 = 0 + 4} $\star\star\star$]
  一个自反且传递的二元关系 $R \subseteq X \times X$
  称为 $X$ 上的拟序。
  现令 $\preceq\; \subseteq X \times X$ 为拟序。

  \begin{enumerate}[(1)]
    \item 如下定义 $X$ 上的关系 $\sim$:
      \[
        x \sim y \triangleq x \preceq y \land y \preceq x.
      \]
      请证明~\footnote{你在 \textsl{hw5-relation} 中已经做过这个证明了,
      不必重做。可以直接在第二问中使用该结论。}, $\sim$ 是 $X$ 上的等价关系。
    \item 如下定义商集 $X/\sim$ 上的关系 $\le$:
      \[
        [x]_{\sim} \le [y]_{\sim} \triangleq x \preceq y.
      \]
      请证明, $\le$ 是偏序关系。
  \end{enumerate}
\end{problem}

\begin{proof}
  \begin{enumerate}[(1)]
    \setcounter{enumi}{1}
    \item 只需验证
      \begin{description}
        \item[$\le$ 是自反的:] 任取 $Y \in X/\sim$。
          设 $Y = [y]_{\sim}$。由于 $\preceq$ 是自反的,
          \[
            y \preceq y.
          \]
          根据 $\le$ 的定义,
          \[
            [y]_{\sim} \le [y]_{\sim}.
          \]
          即
          \[
            Y \le Y.
          \]
        \item[$\le$ 是反对称的:]
          任取 $Y \in X/\sim$, $Z \in X/\sim$。
          设 $Y = [y]_{\sim}$, $Z = [z]_{\sim}$。
          \begin{align*}
            &Y \le Z \land Z \le Y \\
            \implies & y \preceq z \land z \preceq y \\
            \implies & y \sim z \\
            \implies & [y]_{\sim} = [z]_{\sim} \\
            \implies & Y = Z.
          \end{align*}
        \item[$\le$ 是传递的:]
          任取 $W\in X/\sim, Y \in X/\sim$, $Z \in X/\sim$。
          设 $W = [w]_{\sim}, Y = [y]_{\sim}$, $Z = [z]_{\sim}$。
          \begin{align*}
            & W \le Y \land Y \le Z \\
            \implies & w \preceq y \land y \preceq z \\
            \implies & w \preceq z \\
            \implies & [w]_{\sim} \le [z]_{\sim} \\
            \implies & W \le Z.
          \end{align*}
      \end{description}
  \end{enumerate}
\end{proof}
%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%
% 如果没有需要订正的题目，可以把这部分删掉

\begincorrection
%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%
% 如果没有反馈，可以把这部分删掉
\beginfb

你可以写 (也可以发邮件或者使用``教学立方'')
\begin{itemize}
  \item 对课程及教师的建议与意见
  \item 教材中不理解的内容
  \item 希望深入了解的内容
  \item $\cdots$
\end{itemize}
%%%%%%%%%%%%%%%%%%%%
\end{document}